<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="volver()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Detalle {{ encuestaSeleccionada?.titulo }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="dashboard">
    <!-- Tarjetas de estadísticas -->
    <div class="stats-grid">
      <!-- Tarjeta: Respuestas de los usuarios -->
      <div class="stat-card">
        <h1>Respuestas de los usuarios:</h1>
        <div class="stat-info">
          <label>{{ cantidadDeRespuestas }}</label>
          <svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15.8125 8.25C14.5377 8.25507 13.3166 8.76373 12.4151 9.66515C11.5137 10.5666 11.0051 11.7877 11 13.0625C11 15.7053 13.1698 17.875 15.8125 17.875C18.4552 17.875 20.625 15.7053 20.625 13.0625C20.625 10.4197 18.4552 8.25 15.8125 8.25ZM28.1875 8.25C26.9127 8.25507 25.6916 8.76373 24.7901 9.66515C23.8887 10.5666 23.3801 11.7877 23.375 13.0625C23.375 15.7053 25.5448 17.875 28.1875 17.875C30.8302 17.875 33 15.7053 33 13.0625C33 10.4197 30.8302 8.25 28.1875 8.25ZM15.8125 11C16.9675 11 17.875 11.9075 17.875 13.0625C17.875 14.2175 16.9675 15.125 15.8125 15.125C14.6575 15.125 13.75 14.2175 13.75 13.0625C13.75 11.9075 14.6575 11 15.8125 11ZM28.1875 11C29.3425 11 30.25 11.9075 30.25 13.0625C30.25 14.2175 29.3425 15.125 28.1875 15.125C27.0325 15.125 26.125 14.2175 26.125 13.0625C26.125 11.9075 27.0325 11 28.1875 11ZM9.625 16.5C6.6 16.5 4.125 18.975 4.125 22C4.125 23.5304 4.78087 24.9109 5.80112 25.9105C4.86553 26.5424 4.0985 27.3934 3.56674 28.3893C3.03499 29.3852 2.75461 30.496 2.75 31.625H5.5C5.5 29.3315 7.3315 27.5 9.625 27.5C11.9185 27.5 13.75 29.3315 13.75 31.625H16.5C16.4954 30.496 16.215 29.3852 15.6833 28.3893C15.1515 27.3934 14.3845 26.5424 13.4489 25.9105C14.4691 24.9109 15.125 23.5317 15.125 22C15.125 18.975 12.65 16.5 9.625 16.5ZM16.5 31.625C15.6406 32.7745 15.125 34.2196 15.125 35.75H17.875C17.875 33.4565 19.7065 31.625 22 31.625C24.2935 31.625 26.125 33.4565 26.125 35.75H28.875C28.873 34.2628 28.3908 32.816 27.5 31.625C27.0325 31.0021 26.4688 30.47 25.8239 30.0355C26.8441 29.0359 27.5 27.6567 27.5 26.125C27.5 23.1 25.025 20.625 22 20.625C18.975 20.625 16.5 23.1 16.5 26.125C16.5 27.6554 17.1559 29.0359 18.1761 30.0355C17.5318 30.467 16.9651 31.0044 16.5 31.625ZM27.5 31.625H30.25C30.25 29.3315 32.0815 27.5 34.375 27.5C36.6685 27.5 38.5 29.3315 38.5 31.625H41.25C41.2454 30.496 40.965 29.3852 40.4333 28.3893C39.9015 27.3934 39.1345 26.5424 38.1989 25.9105C39.2191 24.9109 39.875 23.5317 39.875 22C39.875 18.975 37.4 16.5 34.375 16.5C31.35 16.5 28.875 18.975 28.875 22C28.875 23.5304 29.5309 24.9109 30.5511 25.9105C29.6155 26.5424 28.8485 27.3934 28.3167 28.3893C27.785 29.3852 27.5046 30.496 27.5 31.625ZM9.625 19.25C11.1609 19.25 12.375 20.4641 12.375 22C12.375 23.5359 11.1609 24.75 9.625 24.75C8.08913 24.75 6.875 23.5359 6.875 22C6.875 20.4641 8.08913 19.25 9.625 19.25ZM34.375 19.25C35.9109 19.25 37.125 20.4641 37.125 22C37.125 23.5359 35.9109 24.75 34.375 24.75C32.8391 24.75 31.625 23.5359 31.625 22C31.625 20.4641 32.8391 19.25 34.375 19.25ZM22 23.375C23.5359 23.375 24.75 24.5891 24.75 26.125C24.75 27.6609 23.5359 28.875 22 28.875C20.4641 28.875 19.25 27.6609 19.25 26.125C19.25 24.5891 20.4641 23.375 22 23.375Z"
              fill="black" />
          </svg>
        </div>
      </div>
      <!-- Tarjeta: Tiempo esperado de respuesta -->
      <div class="stat-card">
        <h1>Tiempo esperado de respuesta:</h1>
        <div class="stat-info">
          <label>{{ encuestaSeleccionada?.duracion }}</label>
          <svg width="44" height="47" viewBox="0 0 44 47" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M9.19787 24.008H14.6667C14.8378 24.008 14.9943 24.0528 15.136 24.1424C15.2778 24.232 15.3897 24.3665 15.4715 24.5457L18.3334 30.4747L24.8637 16.867C25.0348 16.4996 25.3086 16.3158 25.685 16.3158C26.0603 16.3158 26.334 16.4996 26.5064 16.867L29.9164 24.0099H34.8022C34.5785 20.499 33.2341 17.5405 30.7689 15.1346C28.3037 12.7287 25.3807 11.5251 22 11.5238C18.6194 11.5226 15.6964 12.7255 13.2312 15.1327C10.766 17.5399 9.42154 20.4983 9.19787 24.008ZM22 38.4127C25.3807 38.4127 28.3037 37.2098 30.7689 34.8039C33.2341 32.3979 34.5785 29.4395 34.8022 25.9286H29.3334C29.1623 25.9286 29.0058 25.8838 28.864 25.7942C28.7223 25.7045 28.6104 25.5701 28.5285 25.3908L25.6667 19.4637L19.1382 33.106C18.9659 33.4735 18.6921 33.6508 18.3169 33.638C17.9417 33.6252 17.6673 33.4357 17.4937 33.0695L14.0837 25.9286H9.19971C9.42337 29.4395 10.7678 32.3979 13.233 34.8039C15.6983 37.2098 18.6206 38.4127 22 38.4127ZM22 40.3334C19.9736 40.3334 18.0712 39.9326 16.2929 39.131C14.5145 38.3295 12.9593 37.2309 11.627 35.8352C10.2948 34.4396 9.24615 32.8096 8.48104 30.9453C7.71593 29.081 7.33337 27.0887 7.33337 24.9683H9.16671C9.16671 28.6815 10.4195 31.8506 12.925 34.4754C15.4306 37.1003 18.4556 38.4127 22 38.4127C25.5445 38.4127 28.5695 37.1003 31.075 34.4754C33.5806 31.8506 34.8334 28.6815 34.8334 24.9683H36.6667C36.6667 27.0912 36.2842 29.0842 35.519 30.9472C34.7539 32.8102 33.7053 34.4396 32.373 35.8352C31.0408 37.2309 29.4849 38.3295 27.7054 39.131C25.9258 39.9326 24.024 40.3334 22 40.3334ZM7.33337 24.9683C7.33337 22.8453 7.71593 20.8524 8.48104 18.9893C9.24615 17.1263 10.2948 15.497 11.627 14.1013C12.9593 12.7057 14.5152 11.6071 16.2947 10.8055C18.0743 10.004 19.976 9.6032 22 9.6032C23.7772 9.6032 25.4956 9.93611 27.1554 10.6019C28.8152 11.2678 30.338 12.2082 31.724 13.4233L33.726 11.3241L35.024 12.6839L33.022 14.7812C34.1832 16.2345 35.0809 17.8306 35.7152 19.5694C36.3495 21.3082 36.6667 23.1078 36.6667 24.9683H34.8334C34.8334 21.2551 33.5806 18.086 31.075 15.4611C28.5695 12.8363 25.5445 11.5238 22 11.5238C18.4556 11.5238 15.4306 12.8363 12.925 15.4611C10.4195 18.086 9.16671 21.2551 9.16671 24.9683H7.33337ZM17.2059 4.80162V2.88098H26.7942V4.80162H17.2059ZM22 38.4127C18.4556 38.4127 15.4306 37.1003 12.925 34.4754C10.4195 31.8506 9.16671 28.6815 9.16671 24.9683C9.16671 21.2551 10.4195 18.086 12.925 15.4611C15.4306 12.8363 18.4556 11.5238 22 11.5238C25.5445 11.5238 28.5695 12.8363 31.075 15.4611C33.5806 18.086 34.8334 21.2551 34.8334 24.9683C34.8334 28.6815 33.5806 31.8506 31.075 34.4754C28.5695 37.1003 25.5445 38.4127 22 38.4127Z"
              fill="black" />
          </svg>
        </div>
      </div>
      <!-- Tarjeta: Tiempo promedio de respuesta -->
      <div class="stat-card">
        <h1>Tiempo promedio de respuesta:</h1>
        <div class="stat-info">
          <label>{{ tiempopromedio }}</label>
          <svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M25 35.4166C19.3187 35.4166 12.5 29.6291 12.5 25C12.5 20.3708 19.3187 14.5833 25 14.5833C30.6812 14.5833 37.5 20.3708 37.5 25C37.5 29.6291 30.6812 35.4166 25 35.4166ZM22.9167 25C22.9167 25.5525 23.1362 26.0824 23.5269 26.4731C23.9176 26.8638 24.4475 27.0833 25 27.0833C25.5525 27.0833 26.0824 26.8638 26.4731 26.4731C26.8638 26.0824 27.0833 25.5525 27.0833 25C27.0833 24.4474 26.8638 23.9175 26.4731 23.5268C26.0824 23.1361 25.5525 22.9166 25 22.9166C24.4475 22.9166 23.9176 23.1361 23.5269 23.5268C23.1362 23.9175 22.9167 24.4474 22.9167 25Z"
              stroke="black" stroke-width="2" />
          </svg>
        </div>
      </div>
    </div>

      <!-- Sección de respuestas de texto -->
    <div *ngFor="let idPregunta of (respuestasTexto | keyvalue)" class="text-response-card">
      <h3>{{ idPregunta.value.enunciado }}</h3>
      <ul>
        <li *ngFor="let respuesta of idPregunta.value.respuestas">{{ respuesta }}</li>
      </ul>
    </div>
  </div>
</ion-content>
